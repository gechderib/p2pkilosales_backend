{
    "info": {
        "_postman_id": "b1110500-934a-4f8d-9e4f-97e7e7076849",
        "name": "P2P KiloSales API - Full Collection",
        "description": "Comprehensive API collection for P2P KiloSales backend, categorized by model with sample requests and responses.",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "User",
            "item": [
                {
                    "name": "Register User",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"user@example.com\",\n    \"username\": \"johndoe\",\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\",\n    \"phone_number\": \"+1234567890\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/users/users/register/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "users",
                                "register",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "Created",
                            "code": 201,
                            "body": "{\n    \"id\": 1,\n    \"email\": \"user@example.com\",\n    \"username\": \"johndoe\",\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\",\n    \"phone_number\": \"1234567890\"\n}"
                        }
                    ]
                },
                {
                    "name": "Login",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"username\": \"johndoe\",\n    \"password\": \"securepassword123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/users/login/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "login",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "OK",
                            "code": 200,
                            "body": "{\n    \"access\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"refresh\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"user\": {\n        \"id\": 1,\n        \"username\": \"johndoe\",\n        \"email\": \"user@example.com\"\n    }\n}"
                        }
                    ]
                },
                {
                    "name": "Get Current User (Me)",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/users/users/me/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "users",
                                "me",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "OK",
                            "code": 200,
                            "body": "{\n    \"id\": 1,\n    \"email\": \"user@example.com\",\n    \"username\": \"johndoe\",\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\",\n    \"phone_number\": \"1234567890\",\n    \"is_email_verified\": true,\n    \"is_phone_verified\": true,\n    \"is_identity_verified\": \"pending\",\n    \"is_profile_completed\": true,\n    \"verification_status\": {\n        \"email_verified\": true,\n        \"phone_verified\": true,\n        \"identity_verified\": \"pending\",\n        \"profile_completed\": true\n    }\n}"
                        }
                    ]
                },
                {
                    "name": "Verify OTP",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"user_id\": 1,\n    \"otp\": \"123456\",\n    \"purpose\": \"email_verification\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/users/users/verify_otp/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "users",
                                "verify_otp",
                                ""
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Profile",
            "item": [
                {
                    "name": "Get Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/users/profile/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "profile",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "OK",
                            "code": 200,
                            "body": "{\n    \"id\": 1,\n    \"full_name\": \"John Doe\",\n    \"gender\": \"male\",\n    \"nationality\": \"Ethiopian\",\n    \"total_trips_created\": 5,\n    \"average_rating\": 4.8,\n    \"profile_picture_url\": \"https://res.cloudinary.com/...\"\n}"
                        }
                    ]
                },
                {
                    "name": "Update Profile",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"gender\": \"male\",\n    \"nationality\": \"Ethiopian\",\n    \"address\": \"Addis Ababa, Ethiopia\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/users/profile/{{profile_id}}/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "profile",
                                "{{profile_id}}",
                                ""
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get ID Types",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/users/id-types/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "users",
                                "id-types",
                                ""
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Travel",
            "item": [
                {
                    "name": "Create Travel Listing",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"pickup_region_id\": 1,\n    \"destination_region_id\": 2,\n    \"travel_date\": \"2025-12-30\",\n    \"travel_time\": \"10:00:00\",\n    \"mode_of_transport_id\": 1,\n    \"maximum_weight_in_kg\": 20.0,\n    \"price_per_kg\": 5.0,\n    \"price_per_document\": 10.0,\n    \"currency\": \"ETB\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/listings/travel/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "listings",
                                "travel",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "Created",
                            "code": 201,
                            "body": "{\n    \"id\": 1,\n    \"user\": 1,\n    \"pickup\": {\n        \"id\": 1,\n        \"name\": \"Addis Ababa\",\n        \"display_name\": \"Addis Ababa, Ethiopia\"\n    },\n    \"destination\": {\n        \"id\": 2,\n        \"name\": \"Nairobi\",\n        \"display_name\": \"Nairobi, Kenya\"\n    },\n    \"travel_date\": \"2025-12-30\",\n    \"status\": \"published\"\n}"
                        }
                    ]
                },
                {
                    "name": "List Travel Listings",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/listings/travel/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "listings",
                                "travel",
                                ""
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Countries",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/listings/countries/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "listings",
                                "countries",
                                ""
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Regions by Country",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{base_url}}/api/listings/regions/by-country/{{country_id}}/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "listings",
                                "regions",
                                "by-country",
                                "{{country_id}}",
                                ""
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Package",
            "item": [
                {
                    "name": "Create Package Request",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"travel_listing\": 1,\n    \"package_description\": \"Documents and a phone\",\n    \"weight\": 0.5,\n    \"number_of_document\": 1,\n    \"number_of_phone\": 1\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/listings/packages/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "listings",
                                "packages",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "Created",
                            "code": 201,
                            "body": "{\n    \"id\": 1,\n    \"user\": 2,\n    \"travel_listing\": 1,\n    \"total_price\": \"15.00\",\n    \"status\": \"pending\"\n}"
                        }
                    ]
                },
                {
                    "name": "Accept Package Request",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/listings/packages/{{request_id}}/accept/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "listings",
                                "packages",
                                "{{request_id}}",
                                "accept",
                                ""
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Review",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"package_request\": 1,\n    \"rate\": 5,\n    \"description\": \"Great traveler, very reliable!\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/listings/reviews/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "listings",
                                "reviews",
                                ""
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Conversation",
            "item": [
                {
                    "name": "List Conversations",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/messaging/conversations/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "messaging",
                                "conversations",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "OK",
                            "code": 200,
                            "body": "[\n    {\n        \"id\": 1,\n        \"participants\": [...],\n        \"last_message\": {\n            \"content\": \"Hello!\",\n            \"created_at\": \"2025-12-29T12:00:00Z\"\n        },\n        \"unread_count\": 1\n    }\n]"
                        }
                    ]
                },
                {
                    "name": "Get Conversation Messages",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/messaging/conversations/{{conversation_id}}/messages/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "messaging",
                                "conversations",
                                "{{conversation_id}}",
                                "messages",
                                ""
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Message",
            "item": [
                {
                    "name": "Send Message",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"content\": \"Hello! Is the space still available?\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/messaging/conversations/{{conversation_id}}/send_message/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "messaging",
                                "conversations",
                                "{{conversation_id}}",
                                "send_message",
                                ""
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Mark Message as Read",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/messaging/messages/{{message_id}}/mark_as_read/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "messaging",
                                "messages",
                                "{{message_id}}",
                                "mark_as_read",
                                ""
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Money",
            "item": [
                {
                    "name": "Get Balance",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/money/balance/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "money",
                                "balance",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "OK",
                            "code": 200,
                            "body": "{\n    \"balance\": \"1000.00\",\n    \"locked_balance\": \"15.00\",\n    \"currency\": \"ETB\"\n}"
                        }
                    ]
                },
                {
                    "name": "Deposit",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"amount\": 100.0\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/money/deposit/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "money",
                                "deposit",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "OK",
                            "code": 200,
                            "body": "{\n    \"checkout_url\": \"https://checkout.chapa.co/...\",\n    \"tx_ref\": \"tx-123456789\"\n}"
                        }
                    ]
                },
                {
                    "name": "Withdrawal",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"amount\": 500.0,\n    \"bank_code\": \"CBE\",\n    \"account_number\": \"1000123456789\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        },
                        "url": {
                            "raw": "{{base_url}}/api/money/withdrawal/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "money",
                                "withdrawal",
                                ""
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Reporting",
            "item": [
                {
                    "name": "Dashboard Data",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/admin/metrics/dashboard_data/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "metrics",
                                "dashboard_data",
                                ""
                            ]
                        }
                    },
                    "response": [
                        {
                            "name": "Success",
                            "status": "OK",
                            "code": 200,
                            "body": "{\n    \"users_per_day\": [...],\n    \"trips_per_day\": [...],\n    \"DAU\": 150,\n    \"WAU\": 800,\n    \"MAU\": 2500\n}"
                        }
                    ]
                },
                {
                    "name": "Total Users",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}",
                                "type": "text"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/api/admin/metrics/total_users/",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "metrics",
                                "total_users",
                                ""
                            ]
                        }
                    },
                    "response": []
                }
            ]
        }
    ],
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:8000"
        },
        {
            "key": "token",
            "value": "your_jwt_token_here"
        },
        {
            "key": "profile_id",
            "value": "1"
        },
        {
            "key": "request_id",
            "value": "1"
        },
        {
            "key": "conversation_id",
            "value": "1"
        },
        {
            "key": "message_id",
            "value": "1"
        },
        {
            "key": "country_id",
            "value": "1"
        }
    ]
}